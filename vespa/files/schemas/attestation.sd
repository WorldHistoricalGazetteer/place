schema attestation {
    document attestation {

        field place_id type string {
            # The ID of the place associated with the toponym.
            indexing: attribute | summary
            attribute: fast-search
        }

        field toponym_id type string {
            # The ID of the toponym associated with the place.
            indexing: attribute | summary
            attribute: fast-search
        }

        struct date_range_structure {
            # Start and end dates for the attestation, in ISO-8601 format.
            # Example: "start_date": "2020-01-01T00:00:00Z", "end_date": "2020-12-31T23:59:59Z"
            # The year 1066 would be represented as "1066-01-01T00:00:00Z" to "1066-12-31T23:59:59Z".
            # Default values should be set to
            field start_date type string {}
            field end_date type string {}
        }
        field date_range type date_range_structure {
            # Date range for the attestation.
            indexing: summary
            # Date range indexing is handled by synthetic `start` and `end` fields outside the document node.
        }

        field is_preferred type bool {
            # Indicates if this toponym is the preferred one for the place.
            indexing: attribute | summary
            attribute: fast-search
        }
    }

    field start type long {
        # Start date of the association, in milliseconds since the Unix epoch.
        indexing: input date_range["start_date"] | to_epoch_second | attribute | summary
        attribute: fast-search
    }

    field end type long {
        # End date of the association, in milliseconds since the Unix epoch.
        indexing: input date_range["end_date"] | to_epoch_second | attribute | summary
        attribute: fast-search
    }

}
